node_types:
 sodalite.nodes.DockerHost:  
  derived_from: tosca.nodes.SoftwareComponent
  attributes:
    public_address:
     description: "Host's IP"
     type: string
    public_addresses:
     description: "AHost's IP"
     type: string
  properties:
    Address:
     description: "Host's Snd IP"
     type: map
    public_addresses2:
     description: "AHost's snd IP"
     type: string    
  capabilities:  
    host:  
     type: tosca.capabilities.Node
     valid_source_types: [sodalite.nodes.DockerizedComponent]
 sodalite.nodes.OpenStack.SecurityRules:  
  derived_from: tosca.nodes.Root 
  properties:  
   group_name:  
    description: "Name of the security group in openstack."
    required: true 
    type: string 
   ports:  
    required: false 
    constraints:  
     min_length: "1" 
    type: map 
    entry_schema:  sodalite.datatypes.OpenStack.SecurityRule 
   group_description:  
    description: "Description of the security group in openstack"
    required: true 
    type: string 
    
node_templates:
 snow-vm:  
  type: sodalite.nodes.OpenStack.VM
  properties:  
   key_name:  "ssh-key-name"
   image: "image-name"
   name:  "snow-vm_am_1"
   network: "openstack-network-name"  
   security_groups: "security-groups"
   flavor: "flavor-name"
   username: "centos"
  requirements:  
   protected_by: 
    node: snow-security-rules
 snow-security-rules:  
  type: sodalite.nodes.OpenStack.SecurityRules 
  properties:
   ports:  
    component_ports:
     port_range_max: 8081 
     remote_ip_prefix: "0.0.0.0/0" 
     port_range_min: 8080 
     protocol: "tcp" 
    http_port:  
     port_range_min: 80 
     port_range_max: 80 
     protocol: "tcp" 
     remote_ip_prefix: "0.0.0.0/0" 
   group_name: "snow" 
   group_description: "Snow UC security group"
 snow-vm:  
  type: sodalite.nodes.OpenStack.VM
  requirements:  
   host:  
    node: snow-vm